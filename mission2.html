<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>내배캠 최고 평점 영화 콜렉션</title>
  </head>
  <body>
    <div id="cardReview"></div>
  </body>

  <script>
    // 넘어온 영화ID 값으로 영화 Details API 요청
    let movieId = localStorage.getItem("movieId"); // 위와 같이 getItem 메소드를 사용하면 key를 통해 저장된 value 값을 불러올 수 있습니다.
    const options = {
      method: "GET",
      headers: {
        accept: "application/json",
        Authorization:
          "Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmM2ZkOTY3ZGY4MDk2N2YxMzhkMjEyNWI5YWRkYTdlOCIsInN1YiI6IjY1OTY5NmRmYTZjMTA0MTFhOWZhNjBjNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Ldu5SC3JcH2TndeO8jWD7dOAS6EPxB_EQaLFGaIpQu0"
      }
    };

    fetch(`https://api.themoviedb.org/3/movie/${movieId}?language=en-US`, options)
      .then((response) => response.json())
      .then((response) => {
        let cardReview = document.getElementById("cardReview");

        cardReview.innerHTML += `
            <div>
                <img src="https://image.tmdb.org/t/p/w342${response.poster_path}">  
                <div><h3>${response.title}</h3></div>
                <div>${response.overview}</div>
                <div>${response.release_date}</div>
                <div>${response.vote_average}</div>
            </div>`;
      })
      .catch((err) => console.error(err));
  </script>
</html>
