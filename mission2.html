<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>내배캠 최고 평점 영화 콜렉션</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  </head>
  <body>
    <div id="cardReview"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script>
      // 넘어온 영화ID 값으로 영화 Details API 요청
      let movieId = localStorage.getItem("movieId"); // 위와 같이 getItem 메소드를 사용하면 key를 통해 저장된 value 값을 불러올 수 있습니다.
      const options = {
        method: "GET",
        headers: {
          accept: "application/json",
          Authorization:
            "Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmM2ZkOTY3ZGY4MDk2N2YxMzhkMjEyNWI5YWRkYTdlOCIsInN1YiI6IjY1OTY5NmRmYTZjMTA0MTFhOWZhNjBjNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Ldu5SC3JcH2TndeO8jWD7dOAS6EPxB_EQaLFGaIpQu0"
        }
      };
  
      fetch(`https://api.themoviedb.org/3/movie/${movieId}?language=en-US`, options)
        .then((response) => response.json())
        .then((response) => {
          let cardReview = document.getElementById("cardReview");
  
          cardReview.innerHTML += `
              <div>
                  <img src="https://image.tmdb.org/t/p/w342${response.poster_path}">  
                  <div><h3>${response.title}</h3></div>
                  <div>${response.overview}</div>
                  <div>${response.release_date}</div>
                  <div>${response.vote_average}</div>
              </div>`;
        })
        .catch((err) => console.error(err));
    </script>
  </body>

</html>
